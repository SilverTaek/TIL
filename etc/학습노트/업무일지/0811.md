# 고민 사항

상품 정보 조회 질문 사항

1. 유닛 테스트를 활용할 때 Spy.on에서 에러가 발생한 건 모듈 초기화를 할 때 불러오지 않아서 그렇다.
2. product 도메인을 나눠서 shop 도메인 처럼 1시간으로 캐시 전략을 도입한다.
3. 재사용에 대한 부분(상품 단일 건에 대해서 작성을 했는데, 현재 찜 폴더 목록같은 경우 배열 형태로 값을 줘야한다 그렇다면 기존 코드를 수정해서 재사용하는게 나은지 아니면 새로 만드는게 나은지) 단일 정보 조회의 경우 캐시를 적용하기도 쉽고 실제 단일 정보 조회의 요구사항을 배열 형태로 나타내기 보다는 그냥 새로 만드는게 나을 것 같다.
4. 다 배열 형태로 값들이 나온다면 각각의 쿼리를 조회해서, 어떻게 해야할까요? => 실제로는 제한이 걸려있기때문에 캐시르 뽑아낸 데이터를 기준으로 map을 통해 합치는 게 좋을 것 같다.
5. shop 은 왜 ConnectedContents 말고 하위 폴더에 존재하나요? -> 점진적으로 마이그레이션하고 있기 때문이다.

## 학습 내용

- 인덱스 설정 기준

### 카디널리티

- 특정 컬럼을 기준으로 중복도가 높으면 카디널리티가 낮고, 중복도가 낮으면 카디널리티가 높다.

테이블 전체 row 에서 얼마나 중복되는가에 대한 지표로 활용될 수 있으면 이는 상대적인 수치이다.

- 도메인 분리 및 프로젝트 구조 파악

apps/shop

- controlelr
- service -> domain shop service

  - spec

- interface
  - Response 관련 인터페이스 -> domain 레이어쪽 인터페이스를 사용함
